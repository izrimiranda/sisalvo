<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<h:html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta
		http-equiv="Content-Type"
		content="text/html" />
	<h:outputStylesheet
		name="my_style.css"
		library="css" />
	<link
		rel="icon"
		type="image/x-icon"
		href="#{facesContext.externalContext.requestContextPath}/resources/images/iconeAlvo.ico" />
	<title>Sistema de Gestão Alvo</title>
</h:head>
	<script type="text/javascript">
	    //<![CDATA[
 	    function start() {

 	    	PF('pbAjax').start();
 	    	PF('startButton2').disable();

 	    	documento.write("teste");
 	    	console.log("Teste!!!");

// 	        PF('startButton1').disable();

// 	        window['progress'] = setInterval(function () {
// 	            var pbClient = PF('pbClient'),
// 	                oldValue = pbClient.getValue(),
// 	                newValue = oldValue + 10;

// 	            pbClient.setValue(pbClient.getValue() + 10);

// 	            if (newValue === 100) {
// 	                clearInterval(window['progress']);
// 	            }

// 	        }, 1000);
// 	    }

// 	    function cancel() {
// 	        clearInterval(window['progress']);
// 	        PF('pbClient').setValue(0);
// 	        PF('startButton1').enable();
 	    }

	    //]]>
	</script>
<!-- 	<f:loadBundle basename="br.com.agencia1615.sisalvo.properties.labels" var="lbl"/> -->
	<body>
		<div class="card">
			<div class="alinhamentoCenter">
				<h:graphicImage
					style="margin-top: 3em;"
					value="/resources/logos/logoAlvo.png"
					height="221px"
					width="500px" />
				<div class="texto">
					<h3>Por favor, insira no campo abaixo o email cadastrado no sistema.</h3>
					<h3>Sua senha será enviada para o email.</h3>
				</div>

				<h:form id="idFormEmail">
					<p:growl id="growl"/>
					<p:growl
						id="growl-mensagem"
						showDetail="true"
						sticky="true" />
					<div class="alinhamentoCenter">
						<div class="labelLogin">
					        <p:outputLabel styleClass="p-d-block" value="#{msg.CGF023}"/>
						</div>
				        <p:inputText required="true" id="idEmail" size="50" value="#{recuperarSenhaController.recuperarSenhaModel.email}"/>
				        <br></br>
				        <p:commandButton resetValues="true" update="growl-mensagem" style="margin-top: 1em;" value="#{msg.CGB009}"
				        				action="#{recuperarSenhaController.enviarEmailRecuperarSenha}"
				        				icon="pi pi-check">
        				</p:commandButton>
        				<!-- onclick="start()" widgetVar="startButton2" styleClass="p-mr-2" -->
				    </div>
				    <p:messages showDetail="true" />
				    <br></br>
					<p:progressBar widgetVar="pbAjax" ajax="true" value="#{recuperarSenhaController.progress}"
			                       labelTemplate="{value}%" styleClass="p-mt-3" global="false">
			            <p:ajax event="complete" listener="#{recuperarSenhaController.onComplete}" update="growl"
			            		oncomplete="PF('startButton2').enable()" />
			        </p:progressBar>
				</h:form>
			</div>
		</div>
	</body>
</h:html>